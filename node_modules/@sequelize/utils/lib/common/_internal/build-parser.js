"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ParseError = exports.buildThrowBasedParser = exports.buildNullBasedParser = void 0;
function buildNullBasedParser(parseValue, buildError) {
    const parse = (...value) => {
        return parseValue(...value);
    };
    parse.orThrow = (...value) => {
        const out = parseValue(...value);
        if (out === null) {
            throw new ParseError(buildError(...value));
        }
        return out;
    };
    return parse;
}
exports.buildNullBasedParser = buildNullBasedParser;
function buildThrowBasedParser(parseValue) {
    const parse = (...value) => {
        try {
            return parseValue(...value);
        }
        catch (error) {
            if (error instanceof ParseError) {
                return null;
            }
            throw error;
        }
    };
    parse.orThrow = (...value) => {
        return parseValue(...value);
    };
    return parse;
}
exports.buildThrowBasedParser = buildThrowBasedParser;
class ParseError extends Error {
}
exports.ParseError = ParseError;
